  1  A                         **********************************
  2  A                         *PROGRAMA DE EJEMPLO
  3  A                         **********************************
  4  A        1026            PACTL  EQU   $1026
  5  A        1030            ADCTL  EQU   $1030
  6  A        1031            ADR1   EQU   $1031
  7  A        1032            ADR2   EQU   $1032
  8  A        1033            ADR3   EQU   $1033
  9  A        1034            ADR4   EQU   $1034
 10  A        1039            OPTION EQU   $1039
 11  A                         
 12  A        1000            PORTA  EQU   $1000
 13  A        1008            PORTD  EQU   $1008
 14  A        100A            PORTE  EQU   $100A
 15  A        1002            PORTG  EQU   $1002
 16  A                         
 17  A        1001            DDRA   EQU   $1001
 18  A        1009            DDRD   EQU   $1009
 19  A        1003            DDRG   EQU   $1003
 20  A                         
 21  A        1024            TMSK2  EQU   $1024
 22  A        1025            TFLG2  EQU   $1025
 23  A                         
 24  A        102F            SCDR   EQU   $102F
 25  A        102D            SCCR2  EQU   $102D
 26  A        102E            SCSR   EQU   $102E
 27  A        102C            SCCR1  EQU   $102C
 28  A        102B            BAUD   EQU   $102B
 29  A        103C            HPRIO  EQU   $103C
 30  A        1028            SPCR   EQU   $1028
 31  A        105D            CSCTL  EQU   $105D
 32  A        1038            OPT2   EQU   $1038
 33  A                         
 34  A                         * VARIABLES *********************
 35  A                         
 36  A        000C            ORDEN  EQU   $000C
 37  A        000D            SEG    EQU   $000D
 38  A        000E            U1     EQU   $000E
 39  A        000F            U2     EQU   $000F
 40  A        0010            U3     EQU   $0010
 41  A        0011            U4     EQU   $0011
 42  A        0012            U5     EQU   $0012
 43  A        0013            V1     EQU   $0013
 44  A        0016            BAS_L  EQU   $0016
 45  A        0017            V5     EQU   $0017
 46  A        0018            TEMPO  EQU   $0018
 47  A        0019            ALTO   EQU   $0019
 48  A        001A            BAJO   EQU   $001A
 49  A        001B            BASE_H EQU   $001B
 50  A        001C            BASE_L EQU   $001C
 51  A        001D            V3     EQU   $001D
 52  A        001E            V4     EQU   $001E
 53  A                         
 54  A                         **********************************
 55  A                         *CONFIGURA REGISTROS
 56  A                         **********************************
 57  E                        ORG   $8000   * DIR DE INICIO
   ^^^^   09- INSTRUCCION CARECE DE AL MENOS UN ESPACIO RELATIVO AL MARGEN 
 58  E                        LDS   #$03FF  * APUNTADOR DE STAK
   ^^^^   09- INSTRUCCION CARECE DE AL MENOS UN ESPACIO RELATIVO AL MARGEN 
 59  A                         
 60  A                                        
 61  E                        LDAA  #$00    * CONFIG TODO EL PUERTO  A COMO ENTRADAS
   ^^^^   09- INSTRUCCION CARECE DE AL MENOS UN ESPACIO RELATIVO AL MARGEN 
 62  E                        STAA  DDRA    * EL PUERTO A
   ^^^^   09- INSTRUCCION CARECE DE AL MENOS UN ESPACIO RELATIVO AL MARGEN 
 63  A                                
 64  E                               LDAA  #$F    * CONFIG TODO EL PUERTO  G COMO SALIDAS
   ^^^^   07- MAGNITUD DE OPERANDO ERRONEA 
 65  A  8001  B71003                 STAA  DDRG    * EL PUERTO G 
 66  A                         
 67  A  8004  8600                   LDAA  #$00    * SE PONE PUERTO G EN CEROS
 68  A  8006  B71002                 STAA  PORTG
 69  A                                
 70  E                               LDD   #$302C5  * CONFIGURA PUERTO SERIAL
   ^^^^   07- MAGNITUD DE OPERANDO ERRONEA 
 71  E                               STAA  BAU    * BAUD  9600  para cristal de 8MHz
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
 72  A  800B  F7102D                 STAB  SCCR2   * HABILITA  RX Y TX PERO INTERRUPCN SOLO RX
 73  A  800E  8600                   LDAA  #$00
 74  A  8010  B7102C                 STAA  SCCR1   * 8 BITS
 75  A                         
 76  A  8013  86FE                   LDAA  #$FE    * CONFIG PUERTO D COMO SALIDAS (EXCEPTO PD0)
 77  A  8015  B71009                 STAA  DDRD    * SEA  ENABLE DEL DISPLAY  PD4  Y RS PD3
 78  A                                              
 79  A                               
 80  A  8018  8604                   LDAA  #$04
 81  A  801A  B7103C                 STAA  HPRIO
 82  A                         
 83  A  801D  8600                   LDAA  #$00
 84  A  801F  06                     TAP
 85  A                         
 86  A                         
 87  A                         
 88  A                                
 89  A                         
 90  A                         
 91  A                         
 92  A                         **********************************
 93  A                         *PROGRAMA PRINCIPAL
 94  A                         **********************************
 95  A  8020                  MAIN   
 96  E                               JSR   INICIA
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
 97  A  8021  863F                   LDAA  #$3F
 98  A  8023  B7000C                 STAA  ORDEN         * CARGO UN (?) en 000A
 99  A                         
100  A                                
101  A  8026                  CICLO
102  A  8026  B6000D                 LDAA  SEG
103  A  8029  27F3                   BEQ   CICLO 
104  A  802A  7F000D                 CLR   SEG
105  A                                
106  E                               LDAA  PACNT
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
107  A  802E  B70017                 STAA  V5
108  E                               CLR   PACNT
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
109  A                         
110  A                                
111  E                               JSR   DATARXESELMEJORDETODOS        * DESPLIEGA DATO TRANSMITIDO
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
112  A  8033  1809                   DEY
113  A  8035  188F                   XGDY 
114  E                               STAA  ALTER
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
115  A  8038  F7001A                 STAB  BAJO
116  A  803B  188F                   XGDY
117  A  803D  B60019                 LDAA  ALTO
118  A  8040  F6001A                 LDAB  BAJO
119  E                               JSR   BINBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
120  E                               JSR   DISPLAY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
121  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
122  E                               JSR   VOLTA
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
123  A                                
124  A  8047  4F                     CLRA
125  A  8048  F60013                 LDAB  V1
126  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
127  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
128  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
129  A                         
130  E                               CLR
   ^^^^   05- INSTRUCCION CARECE DE OPERANDOS 
131  E                               LDAB  V2
   ^^^^   02- VARIABLE INEXISTENTE 
132  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
133  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
134  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
135  A                         
136  A  8052  4F                     CLRA
137  E                               LDB  V3
   ^^^^   04- MNEMONICO INEXISTENTE 
138  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
139  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
140  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
141  A                         
142  A  8056  4F                     CLRA
143  A  8057  F6001E                 LDAB  V4
144  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
145  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
146  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
147  A                          
148  A  805D  4F                     CLRA
149  A  805E  F60017                 LDAB  V5
150  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
151  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
152  A                                
153  E                               JSR   CRYTRN
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
154  A                             
155  E                               JMP   CICLO
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
156  A                         
157  A                         
158  A                         ***********************************
159  A                         * INICIA
160  A                         ***********************************
161  A  8065                  INICIA
162  A                              
163  A  8065  7F000D                CLR  SEG
164  A                         
165  A  8068  7F1002                CLR  PORTG
166  A  806B  86F4                  LDAA #$F4         
167  A  806D  B70018                STAA TEMPO         * TEMPO ES VARIABLE PARA CONTAR 244 CICLOS
168  A                         
169  A  8070  CE1024                LDX #TMSK2
170  A  8073  1C0040                BSET $00,X,#$40    * HABILITA INTERRUPCION TIMER T-REAL
171  A  8076  0E                    CLI
172  A                         
173  A  8077  CE1026                LDX #PACTL
174  A  807A  1C0050                BSET $00,X,#$50    * HABILITA PAEN -ACUMULADOR PULSOS ALTOS-
175  E                              CLR PACNT          * BORRA ACUMULADOR DE PULSOS
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
176  A                         
177  A  807E  8610                  LDAA #$10
178  A  8080  B7001B                STAA BASE_H        * PONE UN #1060 COMO DIRECCION BASE INICIAL
179  A  8083  8660                  LDAA #$60
180  A  8085  B7001C                STAA BASE_L    
181  A                               
182  A  8088  18CE1060              LDY  #$1060      
183  A                               
184  A  808C  8616                  LDAA #$16
185  E                              STAA BAS_H        * PONE UN #1653 NUMERO TOTAL DE JUEGO DE MUESTRAS
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
186  A  808F  8653                  LDAA #$53
187  A  8091  B70016                STAA BAS_L   
188  A                         
189  A                         
190  A  8094  7F0019                CLR  ALTO          * INICIA INDICE MUESTRA EN 0
191  A  8097  7F001A                CLR  BAJO
192  A                         
193  A  809A  39                     RTS
194  A                         ***********************************
195  A                         * SACA
196  A                         ***********************************
197  A  809B                  SACA
198  A                                     
199  A                                
200  A  809B  B60019                 LDAA  ALTO         * INDICE DE MUESTRA (SEGUNDO)
201  A  809E  F6001A                 LDAB  BAJO
202  A  80A1  188F                   XGDY
203  A  80A3  1808                   INY
204  A  80A5  188F                   XGDY
205  E                               JSR   BINBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
206  E                               JSR   DISPLAY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
207  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
208  A                          
209  A  80AA  B6001B                 LDAA  BASE_H       * INDICE DE MUESTRA (PARTICULAR)
210  A  80AD  F6001C                 LDAB  BASE_L
211  A  80B0  188F                   XGDY
212  A                                
213  A  80B2  1808                   INY
214  A  80B4  4F                     CLRA
215  A  80B5  18E600                 LDAB  $00,Y  
216  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
217  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
218  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
219  A                         
220  A  80BB  1808                   INY
221  A  80BD  4F                     CLRA
222  A  80BE  18E600                 LDAB  $00,Y
223  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
224  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
225  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
226  A                         
227  A  80C4  1808                   INY
228  A  80C6  4F                     CLRA
229  A  80C7  18E600                 LDAB  $00,Y
230  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
231  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
232  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
233  A                         
234  A  80CD  1808                   INY
235  A  80CF  4F                     CLRA
236  A  80D0  18E600                 LDAB  $00,Y
237  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
238  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
239  E                               JSR   COMA
   ^^^^   02- VARIABLE INEXISTENTE 
240  A                          
241  A  80D6  1808                   INY
242  A  80D8  4F                     CLRA 
243  A  80D9  18E600                 LDAB  $00,Y
244  E                               JSR   BNBCD
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
245  E                               JSR   DSPLY
   ^^^^   02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
246  A                                
247  A  80DE  188F                   XGDY
248  A  80E0  B7001B                 STAA BASE_H
249  A  80E3  F7001C                 STAB BASE_L
250  A                         
251  E                               JR   CRYTRN
   ^^^^   04- MNEMONICO INEXISTENTE 02- VARIABLE INEXISTENTE 07- MAGNITUD DE OPERANDO ERRONEA 
252  A                         
253  A  80E6  39                     RTS
254  A                         ***********************************
255  A                         * COMA
256  A                         ***********************************
257  A  80E7                  COMA
258  A  80E7  CE102E                 LDX   #SCSR 
259  A                                
260  A  80EA  B6102E                 LDAA  SCSR
261  A  80ED  862C                   LDAA  #$2C             * COMA
262  A  80EF  B7102F                 STAA  SCDR
263  A  80F5                  C1
264  A  80F2  1F0080F4               BRCLR $00,X,#$80 C1 
265  A  80F5  39                     RTS
266  A                         ***********************************
267  A                         * DESPLIEGA
268  A                         ***********************************
269  A  80F6                  DISPLAY
270  A                                
271  A  80F6  CE102E                 LDX   #SCSR 
272  A                                
273  A  80F9  B6102E                 LDAA  SCSR
274  A  80FC  B6000E                 LDAA  U1             * U
275  A  80FF  8B30                   ADDA  #$30
276  A  8101  B7102F                 STAA  SCDR
277  A  8107                  T1
278  A  8104  1F0080F4               BRCLR $00,X,#$80 T1 
279  A                               
280  A  8107  B6102E                 LDAA  SCSR
281  A  810A  B6000F                 LDAA  U2             * U2
282  A  810D  8B30                   ADDA  #$30
283  A  810F  B7102F                 STAA  SCDR
284  A  8115                  T2
285  A  8112  1F0080F4               BRCLR $00,X,#$80 T2 
286  A                         
287  A  8115                  DSPLY  
288  A  8115  CE102E                 LDX   #SCSR
289  A                             
290  A  8118  B6102E                 LDAA SCSR
291  A  811B  B60010                 LDAA  U3             * U3
292  A  811E  8B30                   ADDA  #$30
293  A  8120  B7102F                 STAA  SCDR
294  A  8126                  T3
295  A  8123  1F0080F4               BRCLR $00,X,#$80 T3 
296  A                               
297  A  8126  B6102E                 LDAA SCSR 
298  A  8129  B60011                 LDAA  U4             * U4
299  A  812C  8B30                   ADDA  #$30
300  A  812E  B7102F                 STAA  SCDR
301  A  8134                  T4
302  A  8131  1F0080F4               BRCLR $00,X,#$80 T4 
303  A                            
304  A  8134  B6102E                 LDAA SCSR
305  A  8137  B60012                 LDAA  U5             * U5
306  A  813A  8B30                   ADDA  #$30
307  A  813C  B7102F                 STAA  SCDR
308  A  8142                  T5
309  A  813F  1F0080F4               BRCLR $00,X,#$80 T5  
310  A                                
311  A  8142  39                     RTS
312  A                         
313  A                         ***********************************
314  A                         * CARRY RETURN
315  A                         ***********************************
316  A                         
317  A  8143                  CRYTRN
318  A  8143  CE102E                 LDX   #SCSR 
319  A  8146  B6102E                 LDAA  SCSR
320  A  8149  860A                   LDAA  #$0A             * NEW LINE     
321  A  814B  B7102F                 STAA  SCDR
322  A  8151                  CR1
323  A  814E  1F0080F4               BRCLR $00,X,#$80 CR1        
324  A                         
325  A  8151  B6102E                 LDAA SCSR
326  A  8154  860D                   LDAA #$0D              * CARRY RETURN     
327  A  8156  B7102F                 STAA SCDR
328  A  815C                  CR2
329  A  8159  1F0080F4               BRCLR $00,X,#$80 CR2        
330  A                         
331  A  815C  39                     RTS
332  A                         ***********************************
333  A                         *  DESPLIEGUE DE DATO RECIBIDO
334  A                         ***********************************
335  A                         
336  A  815D                  DATARXESELMEJORDETODOS
337  A                         
338  A  815D  CE102E                 LDX   #SCSR 
339  A  8160  B6102E                 LDAA  SCSR
340  A  8163  B6000C                 LDAA  ORDEN             * NEW LINE     
341  A  8166  B7102F                 STAA  SCDR
342  A  816C                  DT1
343  A  8169  1F0080F4               BRCLR $00,X,#$80 DT1        
344  A                         
345  A  816C  B6102E                 LDAA SCSR 
346  A  816F  863A                   LDAA #$3A              * DOS PUNTOS    
347  A  8171  B7102F                 STAA SCDR
348  A  8177                  DT2
349  A  8174  1F0080F4               BRCLR $00,X,#$80 DT2        
350  A                         
351  A  8177  39                     RTS
352  A                         ***********************************
353  A                         * voltimetro
354  A                         ***********************************
355  A  8178                  VOLTA
356  A  8178  CE1030                LDX #ADCTL      
357  A                         
358  A  817B  8680                  LDAA #$80
359  A  817D  B71039                STAA OPTION        * PONE EN MARCHA EL ADC
360  A                             
361  A  8180  8610                  LDAA #$10
362  A  8182  B71030                STAA ADCTL         * ENTRADA MULTIPLE SELECCIONA CANAL 0
363  A                         
364  A  8188                  E1
365  A  8185  1F0080F4              BRCLR $00,X,#$80 E1  
366  A  8188  F61031                LDAB ADR1
367  A  818B  F70013                STAB V1
368  A                               
369  A  818E  8680                  LDAA #$80
370  A  8190  B71039                STAA OPTION        * PONE EN MARCHA EL ADC
371  A                             
372  A  8193  8611                  LDAA #$11
373  A  8195  B71030                STAA ADCTL         * ENTRADA MULTIPLE SELECCIONA CANAL 1
374  A                         
375  A  819B                  E2
376  A  8198  1F0080F4              BRCLR $00,X,#$80 E2  
377  A  819B  F61032                LDAB ADR2
378  E                              STAB V2
   ^^^^   02- VARIABLE INEXISTENTE 
379  A                              
380  A  819F  8612                  LDAA #$12
381  A  81A1  B71030                STAA ADCTL         * ENTRADA MULTIPLE SELECCIONA CANAL 2
382  A                         
383  A  81A7                  E3
384  A  81A4  1F0080F4              BRCLR $00,X,#$80 E3  
385  A  81A7  F61033                LDAB ADR3
386  A  81AA  F7001D                STAB V3 
387  A                         
388  A  81AD  8613                  LDAA #$13
389  A  81AF  B71030                STAA ADCTL         * ENTRADA MULTIPLE SELECCIONA CANAL 3
390  A                         
391  A  81B5                  E4
392  A  81B2  1F0080F4              BRCLR $00,X,#$80 E4  
393  A  81B5  F61034                LDAB ADR4
394  A  81B8  F7001E                STAB V4
395  A                         
396  A                                    
397  A  81BB  39                    RTS
398  A                         ***********************************
399  A                         * CONVIERTE A BCD
400  A                         ***********************************
401  A                         
402  A  81BC                  BINBCD
403  A                              
404  A  81BC  CE2710                LDX  #$2710
405  A  81BF  02                    IDIV 
406  A  81C0  8F                    XGDX
407  A  81C1  F7000E                STAB U1
408  A  81C4  8F                    XGDX
409  E                              LDX  #$3E8
   ^^^^   07- MAGNITUD DE OPERANDO ERRONEA 
410  A  81C6  02                    IDIV
411  A  81C7  8F                    XGDX
412  A  81C8  F7000F                STAB U2
413  A  81CB  8F                    XGDX
414  A                         
415  A  81CC                  BNBCD
416  E                              LDX  #$64
   ^^^^   07- MAGNITUD DE OPERANDO ERRONEA 
417  A  81CD  02                    IDIV
418  A  81CE  8F                    XGDX
419  A  81CF  F70010                STAB U3
420  A  81D2  8F                    XGDX
421  E                              LDX  #$A
   ^^^^   07- MAGNITUD DE OPERANDO ERRONEA 
422  A  81D4  02                    IDIV
423  A  81D5  8F                    XGDX
424  A  81D6  F70011                STAB U4
425  A  81D9  8F                    XGDX
426  A  81DA  F70012                STAB U5
427  A                         
428  A                         
429  A                         
430  A  81DD  39                    RTS
431  A                         
432  A                         
433  A                         
434  A                         ***********************************
435  A                         * ATENCION A INTERRUPCION SERIAL
436  A                         ***********************************
437  A  F100                         ORG  $F100
438  A                           
439  A  F2DE  36                     PSHA
440  A                          
441  A  F2DF  B6102E                 LDAA SCSR
442  A  F2E2  B6102F                 LDAA SCDR
443  A  F2E5  B7000C                 STAA ORDEN
444  A                         
445  A  F2E8  32                     PULA  
446  A                         
447  A  F2E9  3B                     RTI
448  A                         
449  A                         ***********************************
450  A                         * ATENCION A INTERRUPCION REAL TIME
451  A                         ***********************************
452  A  F110                        ORG  $F110
453  A                         
454  A  F2FA  36                    PSHA
455  A  F2FB  3C                    PSHX
456  A                         
457  A  F2FC  CE1025                LDX #TFLG2
458  A  F2FF  1C0040                BSET $00,X,#$40    * BORRA BANDERA INTERRUPCION
459  A  F302  7A0018                DEC TEMPO
460  A  F305  2702                  BEQ SEGUNDO
461  A                               
462  A  F306  32                    PULA
463  A  F307  38                    PULX
464  A  F308  3B                    RTI
465  A                         
466  A  F309                  SEGUNDO
467  A  F309  86FF                  LDAA #$FF
468  A  F30B  B7000D                STAA SEG           * SEG ES UNA BANDERA DE SEGUNDO    
469  A  F30E  86F4                  LDAA #$F4         
470  A  F310  B70018                STAA TEMPO         * TEMPO ES VARIABLE PARA CONTAR 244 CICLOS
471  A  F313  7C1002                INC  PORTG
472  A                              
473  A  F316  32                    PULA
474  A  F317  38                    PULX
475  A  F318  3B                    RTI
476  A                         ***********************************
477  A                         * VECTOR INTERRUPCION SERIAL
478  A                         ***********************************
479  A  FFD6                         ORG   $FFD6
480  A  FFD6                         FCB   $F1,$00       
481  A                         
482  A                         ***********************************
483  A                         * VECTOR INTERRUPCION REAL TIME
484  A                         ***********************************
485  A  FFF0                         ORG   $FFF0
486  A  FFF0                         FCB   $F1,$10       
487  A                         
488  A                         ***********************************
489  A                         *RESET
490  A                         ***********************************
491  A  FFFE                         ORG    $FFFE
492  E                        RESET  FCB    $80,$00
   ^^^^   09- INSTRUCCION CARECE DE AL MENOS UN ESPACIO RELATIVO AL MARGEN 
493  A                         ***********************************
494  A  FFFE                         END   $8000
495  A                         
496  A                         
497  A                         
498  A                         
499  A                         
500  A                         
501  A                         
